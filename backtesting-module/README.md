# TRADERAGENT Backtest Module

–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π TRADERAGENT –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

## üéØ –¶–µ–ª—å

–ú–æ–¥—É–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (SMC, Trend-Follower) –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö ETH/USDT –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤ Paper Trading –∏–ª–∏ Production.

## üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ (–∏–∑ btc)
- **BacktestEngine** - –¥–≤–∏–∂–æ–∫ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞
- **MarketSimulator** - —Å–∏–º—É–ª—è—Ç–æ—Ä —Ä—ã–Ω–∫–∞
- **MockBybitExchange** - –º–æ–∫ –±–∏—Ä–∂–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **TestReportGenerator** - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤

### –ê–¥–∞–ø—Ç–µ—Ä—ã
- **CSVDataLoader** - –∑–∞–≥—Ä—É–∑—á–∏–∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV

### –î–∞–Ω–Ω—ã–µ
- **10 CSV —Ñ–∞–π–ª–æ–≤** (Binance + Bybit, 5 —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤)
- **–ü–µ—Ä–∏–æ–¥:** 2025-08-17 ‚Üí 2026-02-13 (6 –º–µ—Å—è—Ü–µ–≤)
- **–û–±—â–∏–π –æ–±—ä–µ–º:** 11MB, 149,520 —Å–≤–µ—á–µ–π

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

\`\`\`
~/trading-backtest/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ backtesting/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BacktestEngine.ts          # –î–≤–∏–∂–æ–∫ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ testing/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MarketSimulator.ts         # –°–∏–º—É–ª—è—Ç–æ—Ä —Ä—ã–Ω–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MockBybitExchange.ts       # –ú–æ–∫ –±–∏—Ä–∂–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TestReportGenerator.ts     # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ adapters/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CSVDataLoader.ts           # –ó–∞–≥—Ä—É–∑—á–∏–∫ CSV –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ scripts/
‚îÇ       ‚îî‚îÄ‚îÄ simple-backtest.ts         # –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ historical/                     # CSV –¥–∞–Ω–Ω—ã–µ (10 —Ñ–∞–π–ª–æ–≤)
‚îÇ       ‚îú‚îÄ‚îÄ binance_ETH_USDT_*.csv
‚îÇ       ‚îú‚îÄ‚îÄ bybit_ETH_USDT_*.csv
‚îÇ       ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ logs/                               # –õ–æ–≥–∏
‚îú‚îÄ‚îÄ results/                            # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ package.json                        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ tsconfig.json                       # TypeScript –∫–æ–Ω—Ñ–∏–≥
‚îî‚îÄ‚îÄ README.md                           # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
\`\`\`

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 20.x
- npm 10.x

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–í—Å–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ! Node.js, npm, –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≥–æ—Ç–æ–≤—ã.

### 3. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

\`\`\`bash
cd ~/trading-backtest
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \\. "$NVM_DIR/nvm.sh"
npm run backtest:simple
\`\`\`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
\`\`\`
üöÄ TRADERAGENT Backtest Module - Simple Test
============================================================

üìä Available Data Files:
   - BINANCE: ETH/USDT (5 timeframes)
   - BYBIT: ETH/USDT (5 timeframes)

‚úÖ Loaded 4320 candles from binance_ETH_USDT_1h.csv
   Period: 2025-08-17 to 2026-02-13

üí∞ Price Statistics:
   Max: $4935.00
   Min: $1826.83
   Avg: $3526.99
\`\`\`

## üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### Binance
| –¢–∞–π–º—Ñ—Ä–µ–π–º | –°–≤–µ—á–µ–π | –†–∞–∑–º–µ—Ä | –§–∞–π–ª |
|-----------|--------|--------|------|
| 1d | 180 | 14K | binance_ETH_USDT_1d.csv |
| 4h | 1,080 | 82K | binance_ETH_USDT_4h.csv |
| 1h | 4,320 | 325K | binance_ETH_USDT_1h.csv |
| 15m | 17,280 | 1.3M | binance_ETH_USDT_15m.csv |
| 5m | 51,840 | 3.8M | binance_ETH_USDT_5m.csv |

### Bybit
| –¢–∞–π–º—Ñ—Ä–µ–π–º | –°–≤–µ—á–µ–π | –†–∞–∑–º–µ—Ä | –§–∞–π–ª |
|-----------|--------|--------|------|
| 1d | 180 | 14K | bybit_ETH_USDT_1d.csv |
| 4h | 1,080 | 83K | bybit_ETH_USDT_4h.csv |
| 1h | 4,320 | 328K | bybit_ETH_USDT_1h.csv |
| 15m | 17,280 | 1.3M | bybit_ETH_USDT_15m.csv |
| 5m | 51,840 | 3.8M | bybit_ETH_USDT_5m.csv |

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–¥–µ

\`\`\`typescript
import { CSVDataLoader } from "./adapters/CSVDataLoader.js";

const loader = new CSVDataLoader();

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
const candles = await loader.loadData("binance", "ETH/USDT", "1h");

// –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
const available = loader.listAvailableData();
console.log(available);
\`\`\`

### –ó–∞–ø—É—Å–∫ –±—ç–∫—Ç–µ—Å—Ç–∞ (–ø—Ä–∏–º–µ—Ä)

\`\`\`typescript
import { BacktestEngine } from "./backtesting/BacktestEngine.js";
import { CSVDataLoader } from "./adapters/CSVDataLoader.js";

async function runBacktest() {
  // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
  const loader = new CSVDataLoader();
  const candles = await loader.loadData("binance", "ETH/USDT", "1h");

  // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–≤–∏–∂–æ–∫
  const engine = new BacktestEngine({
    initialBalance: 10000,
    commission: 0.001,
    slippage: 0.0005,
  });

  // –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
  const results = await engine.run(candles, yourStrategy);

  // –ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á–µ—Ç
  console.log(results);
}
\`\`\`

## üìù –°–∫—Ä–∏–ø—Ç—ã npm

\`\`\`bash
npm run build           # –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript
npm run test            # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run backtest:simple # –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
\`\`\`

## üîó –°–≤—è–∑—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å **–∞–≤—Ç–æ–Ω–æ–º–µ–Ω** –∏ –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Backend TRADERAGENT. –û–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:

1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
2. –í–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
4. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ Paper Trading

## üìà –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã (Issue #138)
2. ‚úÖ –ú–æ–¥—É–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç (Issue #140)
3. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π TRADERAGENT
4. ‚è≥ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö –±—ç–∫—Ç–µ—Å—Ç–æ–≤
5. ‚è≥ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Node.js not found

\`\`\`bash
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \\. "$NVM_DIR/nvm.sh"
node --version  # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å v20.20.0
\`\`\`

### –ú–æ–¥—É–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

\`\`\`bash
cd ~/trading-backtest
npm install
\`\`\`

### –î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ CSV —Ñ–∞–π–ª–æ–≤:
\`\`\`bash
ls -lh ~/trading-backtest/data/historical/
\`\`\`

## üìö –†–µ—Å—É—Ä—Å—ã

- [Issue #138](https://github.com/alekseymavai/TRADERAGENT/issues/138) - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- [Issue #140](https://github.com/alekseymavai/TRADERAGENT/issues/140) - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è
- [btc Repository](https://github.com/unidel2035/btc) - –ò—Å—Ö–æ–¥–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

## ‚úÖ –°—Ç–∞—Ç—É—Å

- [x] Node.js 20.x —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [x] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [x] –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã (10 —Ñ–∞–π–ª–æ–≤, 11MB)
- [x] –ú–æ–¥—É–ª–∏ –∏–∑ btc –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [x] –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
- [x] –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (—Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø)

---

**–°–µ—Ä–≤–µ—Ä:** 185.233.200.13  
**–ü—É—Ç—å:** /home/ai-agent/trading-backtest/  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 13.02.2026  
**–í–µ—Ä—Å–∏—è:** 1.0.0
